---------------------------------------------

     MSX2 3D Wireframe Action game 

     ROCK CITY  Source file
      
            Created in 1993, improved in 1996             

---------------------------------------------

  ※最新バージョン(プラクティスモードのある）のソースファイルを
　紛失していたので、旧バージョンのソースファイルです。

---------------------------------------------

　作者の戯言　　Very strange source


　この作品は過去に3Dに興味を持った頃
　製作環境がMSX2しかなかったため、
　当時覚えたてだったマシン語を用いて作成しました。
　職を辞め、初心に戻るつもりで過去の作品に目を
　向けていて、発表してみようと思いました。

　15年以上を経て、今見てみるとソースのおぞましさに
　驚愕したというのが事実です。

　現在は退職したといえ一応プロのゲームプログラマを
　経験した者としては、このソースをみて
　まるで精神分裂症患者の頭の中身のような
　スパゲッティーというよりチキンラーメン、
　そんな印象を受けました。当時の自分はいったい・・

　・ラベルの番地を手打ち

　・訳の分からないラベル名、スペルミス

　・コード中のcallの後ろにデータ列を入れてて
　　call先からspでデータを収集、spを進めてret

　・push,popをあわせずループをjpで抜けspを修正して
　　むりやり整合性をとっていたり

　・プログラム中でメモリを書き換えて自身の動作を
　　変化させたり

　まあ下３つはプログラマならチューニング手法の
　一つとして使っていても不思議はないですが、他にも
　訳の分からない事をいろいろとしてます。

　一番の問題はゲームには当たり前にあるはずの
　メインループが存在しない！

　通常ゲームを作る際は一定周期ごとに（MSXならVSYNC,PCならタイマーなどを使う）
　ゲームの処理→画面表示を行うものです。
　そしてゲームの状態（ステージ変化や、ボス戦、プレイヤー死亡とか）によって
　ゲームの処理は別の状態へ遷移して行きますが、
　基本このループは形成されています。

　しかしこのプログラムにはそんなメインになるとこがありません。

　プレイヤーの処理をするMAINというサブルーチンがあるのですが
　その中でプレイヤー移動→画面表示をしています。
　そしてステージのプログラムが現在の敵出現状態のループ場所から
　MAINを毎回呼び出すという、訳のわからない作りになっています。
　つまり画面表示に飛ぶ場所が流動的に動いていくわけです。
　ゲーム作りをした事がある人ならありえない処理です。

　このゲームがデフォルトで処理落ちしているため、速度的には
　同期をとるより速くなりますが、プログラムとしては0点です

　仮にCPUが60FPS以上出せる性能だったら何処までも速くなっていく
　訳ですから。

　まあそんな感じで、問題だらけで恥ずかしいものですが

　修正なしで公開することにします。



　恥をさらすもまた一興
　

---------------------------------------------
	memory map
---------------------------------------------
	main1  0100H - 09F6H
	main2  09F7H - 1031H 
	main3  1032H - 144FH 
	stage1 1450H - 1A60H 
	stage2 1A61H - 20DBH
	stage3 20DCH - 2752H
	stage4 2753H - 3012H 
       	ending 3013H - 32DFH
---------------------------------------------
